{"sections":[],"seeAlsoSections":[{"anchor":"Getting-Started","generated":true,"identifiers":["doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/API-Key","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Display-Map","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Bundle-Map","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Annotations","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/User-Location","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Camera-Positioning"],"title":"Getting Started"}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Routing"},"abstract":[{"type":"text","text":"Calculate shortest paths between locations and display them on your map."}],"metadata":{"role":"article","modules":[{"name":"MapLayr"}],"title":"Computing and Displaying Routes","roleHeading":"Article"},"schemaVersion":{"patch":0,"major":0,"minor":3},"primaryContentSections":[{"content":[{"anchor":"Overview","text":"Overview","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"MapLayr provides a powerful routing system that can calculate the shortest path between two or more locations on your map. The routing system uses a precomputed path network that includes information about walkable paths, stairs, elevators, and accessibility constraints."}]},{"anchor":"Accessing-the-Path-Network","text":"Accessing the Path Network","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"To calculate directions between two locations, you must first get the "},{"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/PathNetwork","type":"reference","isActive":true},{"type":"text","text":", which is accessed through the "},{"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapData\/pathNetwork","type":"reference","isActive":true},{"type":"text","text":" property of your "},{"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Map","type":"reference","isActive":true},{"type":"text","text":"’s "},{"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Map\/currentVersion","type":"reference","isActive":true},{"type":"text","text":"."}]},{"type":"codeListing","syntax":"swift","code":["guard let pathNetwork = map.currentVersion.pathNetwork else {","\tprint(\"No routing data available for this map\")","\treturn","}"]},{"anchor":"Basic-Route-Calculation","text":"Basic Route Calculation","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"Use the "},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/PathNetwork\/calculateDirections(from:layer:to:options:)-7mjdw"},{"type":"text","text":" method to compute routes between locations. The method accepts coordinates and returns a "},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Route"},{"type":"text","text":" object containing the path geometry and total distance. If you have multiple destinations (e.g. something with multiple entrances), you can include them in the "},{"type":"codeVoice","code":"to"},{"type":"text","text":" parameter—the computed route will be to the nearest destination."}]},{"type":"codeListing","syntax":"swift","code":["let route = pathNetwork.calculateDirections(","\tfrom: userLocation,","\tto: [ destinationLocation ]",")","","if let route {","\tprint(\"Route found! Distance: \\(route.distance) meters\")","}"]},{"anchor":"Displaying-a-Route","text":"Displaying a Route","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"Each "},{"isActive":true,"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Route","type":"reference"},{"type":"text","text":" provides a "},{"isActive":true,"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Route\/path","type":"reference"},{"type":"text","text":" property which can be assigned to a "},{"isActive":true,"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Shape","type":"reference"},{"type":"text","text":" to be displayed on the map:"}]},{"type":"codeListing","syntax":"swift","code":["let path = route.path","","let shape = Shape(","\tpath: directionsPath,","\tstrokeColor: UIColor.blue.cgColor,","\tstrokeWidth: 8",")","","mapView.shapes = [ shape ]"]},{"text":"Route Options","type":"heading","level":2,"anchor":"Route-Options"},{"inlineContent":[{"type":"text","text":"When calculating routes, you can supply some optional "},{"type":"reference","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/PathNetwork\/RouteOptions","isActive":true},{"type":"text","text":" to avoid certain types of paths or control how routes connect to your specified coordinates."}],"type":"paragraph"},{"type":"codeListing","code":["\/\/ Avoid stairs and other paths with reduced accessibility","let route = pathNetwork.calculateDirections(","    from: userLocation,","    to: [ destinationLocation ],","    options: .avoidReducedAccessibility",")"],"syntax":"swift"}],"kind":"content"}],"variants":[{"paths":["\/documentation\/maplayr\/routing"],"traits":[{"interfaceLanguage":"swift"}]}],"hierarchy":{"paths":[["doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr"]]},"kind":"article","references":{"doc://com.applayr.MapLayr/documentation/MapLayr/Display-Map":{"title":"Displaying a Map","abstract":[{"type":"text","text":"Create a "},{"type":"reference","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Map","isActive":true},{"type":"text","text":" and assign it to a "},{"type":"reference","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapView","isActive":true},{"type":"text","text":"."}],"url":"\/documentation\/maplayr\/display-map","role":"article","type":"topic","kind":"article","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Display-Map"},"doc://com.applayr.MapLayr/documentation/MapLayr":{"role":"collection","kind":"symbol","url":"\/documentation\/maplayr","type":"topic","abstract":[{"type":"text","text":"High performance map view for venue-specific maps."}],"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr","title":"MapLayr"},"doc://com.applayr.MapLayr/documentation/MapLayr/MapView":{"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapView","navigatorTitle":[{"kind":"identifier","text":"MapView"}],"kind":"symbol","abstract":[{"text":"A view which displays interactive map content.","type":"text"}],"url":"\/documentation\/maplayr\/mapview","role":"symbol","title":"MapView","type":"topic","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"MapView"}]},"doc://com.applayr.MapLayr/documentation/MapLayr/Bundle-Map":{"abstract":[{"type":"text","text":"Have your map available immediately when your app launches for the first time."}],"url":"\/documentation\/maplayr\/bundle-map","type":"topic","role":"article","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Bundle-Map","title":"Bundle Your Map","kind":"article"},"doc://com.applayr.MapLayr/documentation/MapLayr/PathNetwork/RouteOptions":{"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/PathNetwork\/RouteOptions","navigatorTitle":[{"text":"RouteOptions","kind":"identifier"}],"abstract":[{"text":"Options that control how routes are calculated through the path network.","type":"text"}],"title":"PathNetwork.RouteOptions","type":"topic","kind":"symbol","role":"symbol","url":"\/documentation\/maplayr\/pathnetwork\/routeoptions","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"RouteOptions","kind":"identifier"}]},"doc://com.applayr.MapLayr/documentation/MapLayr/Route/path":{"title":"path","url":"\/documentation\/maplayr\/route\/path","type":"topic","role":"symbol","abstract":[{"text":"The route’s path, which can be added to a shape to display it inside a map view.","type":"text"}],"kind":"symbol","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Route\/path","fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"path"},{"kind":"text","text":": "},{"preciseIdentifier":"s:15MapLayrInternal4PathV","kind":"typeIdentifier","text":"Path"}]},"doc://com.applayr.MapLayr/documentation/MapLayr/Map":{"kind":"symbol","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Map","url":"\/documentation\/maplayr\/map","type":"topic","abstract":[{"text":"An updatable map.","type":"text"}],"title":"Map","navigatorTitle":[{"text":"Map","kind":"identifier"}],"fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Map","kind":"identifier"}],"role":"symbol"},"doc://com.applayr.MapLayr/documentation/MapLayr/MapData/pathNetwork":{"fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"pathNetwork","kind":"identifier"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:15MapLayrInternal11PathNetworkC","text":"PathNetwork","kind":"typeIdentifier"},{"text":"?","kind":"text"}],"kind":"symbol","title":"pathNetwork","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapData\/pathNetwork","abstract":[{"type":"text","text":"The path network associated with the map."}],"type":"topic","role":"symbol","url":"\/documentation\/maplayr\/mapdata\/pathnetwork"},"doc://com.applayr.MapLayr/documentation/MapLayr/Shape":{"navigatorTitle":[{"kind":"identifier","text":"Shape"}],"type":"topic","url":"\/documentation\/maplayr\/shape","abstract":[{"type":"text","text":"A flat shape which can be drawn directly on a terrain layer."}],"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Shape","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Shape"}],"title":"Shape","role":"symbol","kind":"symbol"},"doc://com.applayr.MapLayr/documentation/MapLayr/Route":{"title":"Route","kind":"symbol","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Route","role":"symbol","type":"topic","url":"\/documentation\/maplayr\/route","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Route"}],"navigatorTitle":[{"kind":"identifier","text":"Route"}],"abstract":[{"type":"text","text":"A route on the map, typically as returned by the shortest path network."}]},"doc://com.applayr.MapLayr/documentation/MapLayr/API-Key":{"abstract":[{"type":"text","text":"Obtain an API key and configure your app to use it."}],"url":"\/documentation\/maplayr\/api-key","type":"topic","role":"article","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/API-Key","title":"API Key","kind":"article"},"doc://com.applayr.MapLayr/documentation/MapLayr/Map/currentVersion":{"fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"currentVersion","kind":"identifier"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:15MapLayrInternal0A4DataV","text":"MapData","kind":"typeIdentifier"}],"title":"currentVersion","abstract":[{"text":"The current version of the map.","type":"text"}],"role":"symbol","url":"\/documentation\/maplayr\/map\/currentversion","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Map\/currentVersion","type":"topic","kind":"symbol"},"doc://com.applayr.MapLayr/documentation/MapLayr/Camera-Positioning":{"abstract":[{"type":"text","text":"Control the camera position and orientation programmatically or through automatic providers."}],"role":"article","url":"\/documentation\/maplayr\/camera-positioning","kind":"article","title":"Camera Positioning","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Camera-Positioning","type":"topic"},"doc://com.applayr.MapLayr/documentation/MapLayr/User-Location":{"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/User-Location","abstract":[{"type":"text","text":"Display and track the user’s current location on your map."}],"type":"topic","title":"Showing the User’s Location","url":"\/documentation\/maplayr\/user-location","role":"article","kind":"article"},"doc://com.applayr.MapLayr/documentation/MapLayr/Annotations":{"title":"Adding Annotations to Your Map","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Annotations","url":"\/documentation\/maplayr\/annotations","role":"article","type":"topic","kind":"article","abstract":[{"type":"text","text":"Display custom markers and points of interest on your map."}]},"doc://com.applayr.MapLayr/documentation/MapLayr/PathNetwork":{"title":"PathNetwork","kind":"symbol","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/PathNetwork","role":"symbol","type":"topic","url":"\/documentation\/maplayr\/pathnetwork","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"PathNetwork"}],"navigatorTitle":[{"kind":"identifier","text":"PathNetwork"}],"abstract":[{"text":"A network of paths on a map.","type":"text"}]},"doc://com.applayr.MapLayr/documentation/MapLayr/PathNetwork/calculateDirections(from:layer:to:options:)-7mjdw":{"abstract":[{"type":"text","text":"Finds the shortest distance from the origin coordinates to one of the destination coordinates."}],"kind":"symbol","url":"\/documentation\/maplayr\/pathnetwork\/calculatedirections(from:layer:to:options:)-7mjdw","role":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"calculateDirections","kind":"identifier"},{"text":"(","kind":"text"},{"text":"from","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:11MapGeometry11CoordinatesV","text":"Coordinates","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"layer","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:SS","text":"String","kind":"typeIdentifier"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"to"},{"kind":"text","text":": ["},{"kind":"typeIdentifier","text":"Coordinates","preciseIdentifier":"s:11MapGeometry11CoordinatesV"},{"kind":"text","text":"], "},{"kind":"externalParam","text":"options"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"PathNetwork","preciseIdentifier":"s:15MapLayrInternal11PathNetworkC"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"RouteOptions","preciseIdentifier":"s:15MapLayrInternal11PathNetworkC12RouteOptionsV"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"Route","preciseIdentifier":"s:15MapLayrInternal5RouteV"},{"kind":"text","text":"?"}],"type":"topic","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/PathNetwork\/calculateDirections(from:layer:to:options:)-7mjdw","title":"calculateDirections(from:layer:to:options:)"}}}