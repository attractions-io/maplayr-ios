{"kind":"article","variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/maplayr\/bundle-map"]}],"hierarchy":{"paths":[["doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr"]]},"identifier":{"url":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Bundle-Map","interfaceLanguage":"swift"},"schemaVersion":{"major":0,"minor":3,"patch":0},"seeAlsoSections":[{"title":"Getting Started","generated":true,"identifiers":["doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/API-Key","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Display-Map"],"anchor":"Getting-Started"}],"metadata":{"role":"article","title":"Bundle Your Map","roleHeading":"Article","modules":[{"name":"MapLayr"}]},"sections":[],"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","level":2,"text":"Overview","type":"heading"},{"inlineContent":[{"text":"If connectivity at your venue is unreliable, you can include the latest version of your map inside your application bundle. This also allows you to confidently use the synchronous ","type":"text"},{"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Map\/managed(id:)-5kxdb","isActive":true,"type":"reference"},{"text":" method to load a map without having to design your application around asynchronous map loading.","type":"text"}],"type":"paragraph"},{"anchor":"Setting-Up-the-Map-Bundle-Directory","level":2,"text":"Setting Up the Map Bundle Directory","type":"heading"},{"inlineContent":[{"type":"text","text":"In Xcode, create a folder reference named “MapLayr” in the top-level directory of your application. This folder will contain maps for offline use and is intended to be copied into your app’s bundle as-is."}],"type":"paragraph"},{"anchor":"Using-the-Download-Script","level":2,"text":"Using the Download Script","type":"heading"},{"inlineContent":[{"text":"The ","type":"text"},{"code":"download-map","type":"codeVoice"},{"text":" script included with MapLayr helps you manage map bundles. The script accepts these parameters:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"-m"},{"text":" or ","type":"text"},{"type":"codeVoice","code":"--map"},{"text":": The ID of the map to download","type":"text"}]}]},{"content":[{"inlineContent":[{"code":"-d","type":"codeVoice"},{"text":" or ","type":"text"},{"code":"--dir","type":"codeVoice"},{"text":": The target directory for the map bundle (typically your Maps folder)","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"-n","type":"codeVoice"},{"text":" or ","type":"text"},{"code":"--name","type":"codeVoice"},{"text":": (Optional) A custom name for the map bundle","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"--skip-if-exists"},{"type":"text","text":": Skip download if the map already exists"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"--skip-if-debug","type":"codeVoice"},{"type":"text","text":": Skip download if "},{"code":"CONFIGURATION","type":"codeVoice"},{"type":"text","text":" is set to "},{"code":"Debug","type":"codeVoice"}]}]}],"type":"unorderedList"},{"anchor":"Automating-Map-Updates","level":2,"text":"Automating Map Updates","type":"heading"},{"inlineContent":[{"type":"text","text":"To keep your bundled map up to date, add a build phase in Xcode:"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add a new "},{"inlineContent":[{"type":"text","text":"Run Script"}],"type":"emphasis"},{"type":"text","text":" phase in your target’s "},{"inlineContent":[{"text":"Build Phases","type":"text"}],"type":"emphasis"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Position it before the "},{"type":"emphasis","inlineContent":[{"text":"Copy Bundle Resources","type":"text"}]},{"type":"text","text":" phase"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Name it something descriptive like “Update Map”"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Uncheck “based on dependency analysis”","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add the script, replacing the map ID and directory path as needed:"}]}]}],"type":"orderedList"},{"syntax":"shell","code":["\"${BUILD_DIR%Build\/*}SourcePackages\/checkouts\/maps-ios\/download-map\" -m \"YOUR-MAP-ID\" -d \"$PROJECT_DIR\/My App\/MapLayr\" --skip-if-debug"],"type":"codeListing"},{"content":[{"inlineContent":[{"text":"For better reliability, consider copying the ","type":"text"},{"code":"download-map","type":"codeVoice"},{"text":" script into your project instead of referencing it from the package directory.","type":"text"}],"type":"paragraph"}],"style":"note","type":"aside","name":"Note"},{"anchor":"Best-Practices","level":2,"type":"heading","text":"Best Practices"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Add your Maps folder to "},{"type":"codeVoice","code":".gitignore"},{"type":"text","text":" to avoid committing map bundles to source control"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Use "},{"code":"--skip-if-debug","type":"codeVoice"},{"type":"text","text":" to speed up debug builds"}]}]}],"type":"unorderedList"}]}],"abstract":[{"type":"text","text":"Have your map available immediately when your app launches for the first time."}],"references":{"doc://com.applayr.MapLayr/documentation/MapLayr/API-Key":{"type":"topic","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/API-Key","title":"API Key","url":"\/documentation\/maplayr\/api-key","kind":"article","abstract":[{"type":"text","text":"Obtain an API key and configure your app to use it."}],"role":"article"},"doc://com.applayr.MapLayr/documentation/MapLayr/MapView":{"role":"symbol","kind":"symbol","abstract":[{"type":"text","text":"A view which displays interactive map content."}],"type":"topic","navigatorTitle":[{"kind":"identifier","text":"MapView"}],"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapView","url":"\/documentation\/maplayr\/mapview","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"MapView"}],"title":"MapView"},"doc://com.applayr.MapLayr/documentation/MapLayr/Map":{"fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Map","kind":"identifier"}],"type":"topic","title":"Map","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Map","url":"\/documentation\/maplayr\/map","role":"symbol","kind":"symbol","navigatorTitle":[{"text":"Map","kind":"identifier"}],"abstract":[{"type":"text","text":"An updatable map."}]},"doc://com.applayr.MapLayr/documentation/MapLayr/Display-Map":{"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Display-Map","type":"topic","abstract":[{"text":"Create a ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Map"},{"text":" and assign it to a ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapView"},{"text":".","type":"text"}],"kind":"article","role":"article","title":"Displaying a Map","url":"\/documentation\/maplayr\/display-map"},"doc://com.applayr.MapLayr/documentation/MapLayr":{"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr","url":"\/documentation\/maplayr","abstract":[{"type":"text","text":"High performance map view for venue-specific maps."}],"kind":"symbol","title":"MapLayr","role":"collection","type":"topic"},"doc://com.applayr.MapLayr/documentation/MapLayr/Map/managed(id:)-5kxdb":{"kind":"symbol","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"managed"},{"kind":"text","text":"("},{"kind":"externalParam","text":"id"},{"kind":"text","text":": "},{"preciseIdentifier":"s:SS","kind":"typeIdentifier","text":"String"},{"kind":"text","text":") "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"preciseIdentifier":"s:15MapLayrInternal0A0C","kind":"typeIdentifier","text":"Map"}],"url":"\/documentation\/maplayr\/map\/managed(id:)-5kxdb","abstract":[{"text":"Returns a managed map with the given map ID.","type":"text"}],"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Map\/managed(id:)-5kxdb","role":"symbol","type":"topic","title":"managed(id:)"}}}