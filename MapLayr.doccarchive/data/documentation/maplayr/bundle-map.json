{"primaryContentSections":[{"kind":"content","content":[{"type":"heading","anchor":"Overview","text":"Overview","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"If connectivity at your venue is unreliable, you can include the latest version of your map inside your application bundle. This also allows you to confidently use the synchronous "},{"type":"reference","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Map\/managed(id:)-5kxdb","isActive":true},{"type":"text","text":" method to load a map without having to design your application around asynchronous map loading."}]},{"type":"heading","anchor":"Setting-Up-the-Map-Bundle-Directory","text":"Setting Up the Map Bundle Directory","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"In Xcode, create a folder reference named “MapLayr” in the top-level directory of your application. This folder will contain maps for offline use and is intended to be copied into your app’s bundle as-is."}]},{"type":"heading","anchor":"Using-the-Download-Script","text":"Using the Download Script","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"type":"codeVoice","code":"download-map"},{"type":"text","text":" script included with MapLayr helps you manage map bundles. The script accepts these parameters:"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"code":"-m","type":"codeVoice"},{"text":" or ","type":"text"},{"code":"--map","type":"codeVoice"},{"text":": The ID of the map to download","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"-d","type":"codeVoice"},{"text":" or ","type":"text"},{"code":"--dir","type":"codeVoice"},{"text":": The target directory for the map bundle (typically your Maps folder)","type":"text"}]}]},{"content":[{"inlineContent":[{"code":"-n","type":"codeVoice"},{"type":"text","text":" or "},{"code":"--name","type":"codeVoice"},{"type":"text","text":": (Optional) A custom name for the map bundle"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"--skip-if-exists","type":"codeVoice"},{"text":": Skip download if the map already exists","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"--skip-if-debug","type":"codeVoice"},{"text":": Skip download if ","type":"text"},{"code":"CONFIGURATION","type":"codeVoice"},{"text":" is set to ","type":"text"},{"code":"Debug","type":"codeVoice"}]}]}]},{"type":"heading","anchor":"Automating-Map-Updates","text":"Automating Map Updates","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"To keep your bundled map up to date, add a build phase in Xcode:"}]},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add a new "},{"inlineContent":[{"text":"Run Script","type":"text"}],"type":"emphasis"},{"type":"text","text":" phase in your target’s "},{"inlineContent":[{"text":"Build Phases","type":"text"}],"type":"emphasis"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Position it before the "},{"type":"emphasis","inlineContent":[{"text":"Copy Bundle Resources","type":"text"}]},{"type":"text","text":" phase"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Name it something descriptive like “Update Map”"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Uncheck “based on dependency analysis”"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add the script, replacing the map ID and directory path as needed:"}]}]}]},{"type":"codeListing","syntax":"shell","code":["\"${BUILD_DIR%Build\/*}SourcePackages\/checkouts\/maps-ios\/download-map\" -m \"YOUR-MAP-ID\" -d \"$PROJECT_DIR\/My App\/MapLayr\" --skip-if-debug"]},{"type":"aside","name":"Note","style":"note","content":[{"type":"paragraph","inlineContent":[{"text":"For better reliability, consider copying the ","type":"text"},{"type":"codeVoice","code":"download-map"},{"text":" script into your project instead of referencing it from the package directory.","type":"text"}]}]},{"type":"heading","anchor":"Best-Practices","text":"Best Practices","level":2},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add your Maps folder to "},{"type":"codeVoice","code":".gitignore"},{"type":"text","text":" to avoid committing map bundles to source control"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Use "},{"type":"codeVoice","code":"--skip-if-debug"},{"type":"text","text":" to speed up debug builds"}],"type":"paragraph"}]}]}]}],"variants":[{"paths":["\/documentation\/maplayr\/bundle-map"],"traits":[{"interfaceLanguage":"swift"}]}],"kind":"article","abstract":[{"type":"text","text":"Have your map available immediately when your app launches for the first time."}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Bundle-Map"},"schemaVersion":{"minor":3,"patch":0,"major":0},"sections":[],"seeAlsoSections":[{"generated":true,"anchor":"Getting-Started","title":"Getting Started","identifiers":["doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/API-Key","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Display-Map","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Annotations","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/User-Location","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Routing","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Camera-Positioning"]}],"hierarchy":{"paths":[["doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr"]]},"metadata":{"roleHeading":"Article","title":"Bundle Your Map","role":"article","modules":[{"name":"MapLayr"}]},"references":{"doc://com.applayr.MapLayr/documentation/MapLayr/Annotations":{"title":"Adding Annotations to Your Map","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Annotations","url":"\/documentation\/maplayr\/annotations","role":"article","type":"topic","kind":"article","abstract":[{"type":"text","text":"Display custom markers and points of interest on your map."}]},"doc://com.applayr.MapLayr/documentation/MapLayr":{"role":"collection","kind":"symbol","url":"\/documentation\/maplayr","type":"topic","abstract":[{"type":"text","text":"High performance map view for venue-specific maps."}],"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr","title":"MapLayr"},"doc://com.applayr.MapLayr/documentation/MapLayr/Routing":{"url":"\/documentation\/maplayr\/routing","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Routing","kind":"article","abstract":[{"type":"text","text":"Calculate shortest paths between locations and display them on your map."}],"role":"article","title":"Computing and Displaying Routes","type":"topic"},"doc://com.applayr.MapLayr/documentation/MapLayr/Camera-Positioning":{"abstract":[{"type":"text","text":"Control the camera position and orientation programmatically or through automatic providers."}],"role":"article","url":"\/documentation\/maplayr\/camera-positioning","kind":"article","title":"Camera Positioning","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Camera-Positioning","type":"topic"},"doc://com.applayr.MapLayr/documentation/MapLayr/Map/managed(id:)-5kxdb":{"role":"symbol","kind":"symbol","type":"topic","url":"\/documentation\/maplayr\/map\/managed(id:)-5kxdb","abstract":[{"text":"Returns a managed map with the given map ID.","type":"text"}],"fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"managed","kind":"identifier"},{"text":"(","kind":"text"},{"text":"id","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"},{"text":") ","kind":"text"},{"text":"throws","kind":"keyword"},{"text":" -> ","kind":"text"},{"text":"Map","preciseIdentifier":"s:15MapLayrInternal0A0C","kind":"typeIdentifier"}],"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Map\/managed(id:)-5kxdb","title":"managed(id:)"},"doc://com.applayr.MapLayr/documentation/MapLayr/MapView":{"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapView","navigatorTitle":[{"kind":"identifier","text":"MapView"}],"kind":"symbol","abstract":[{"text":"A view which displays interactive map content.","type":"text"}],"url":"\/documentation\/maplayr\/mapview","role":"symbol","title":"MapView","type":"topic","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"MapView"}]},"doc://com.applayr.MapLayr/documentation/MapLayr/Display-Map":{"title":"Displaying a Map","abstract":[{"type":"text","text":"Create a "},{"type":"reference","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Map","isActive":true},{"type":"text","text":" and assign it to a "},{"type":"reference","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapView","isActive":true},{"type":"text","text":"."}],"url":"\/documentation\/maplayr\/display-map","role":"article","type":"topic","kind":"article","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Display-Map"},"doc://com.applayr.MapLayr/documentation/MapLayr/Map":{"kind":"symbol","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Map","url":"\/documentation\/maplayr\/map","type":"topic","abstract":[{"text":"An updatable map.","type":"text"}],"title":"Map","navigatorTitle":[{"text":"Map","kind":"identifier"}],"fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Map","kind":"identifier"}],"role":"symbol"},"doc://com.applayr.MapLayr/documentation/MapLayr/API-Key":{"abstract":[{"type":"text","text":"Obtain an API key and configure your app to use it."}],"url":"\/documentation\/maplayr\/api-key","type":"topic","role":"article","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/API-Key","title":"API Key","kind":"article"},"doc://com.applayr.MapLayr/documentation/MapLayr/User-Location":{"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/User-Location","abstract":[{"type":"text","text":"Display and track the user’s current location on your map."}],"type":"topic","title":"Showing the User’s Location","url":"\/documentation\/maplayr\/user-location","role":"article","kind":"article"}}}