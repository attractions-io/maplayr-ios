{"kind":"article","abstract":[{"type":"text","text":"Have your map available immediately when your app launches for the first time."}],"primaryContentSections":[{"kind":"content","content":[{"level":2,"text":"Overview","anchor":"Overview","type":"heading"},{"inlineContent":[{"text":"If connectivity at your venue is unreliable, you can include the latest version of your map inside your application bundle. This also allows you to confidently use the synchronous ","type":"text"},{"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Map\/managed(id:)-5kxdb","isActive":true,"type":"reference"},{"text":" method to load a map without having to design your application around asynchronous map loading.","type":"text"}],"type":"paragraph"},{"level":2,"text":"Setting Up the Map Bundle Directory","anchor":"Setting-Up-the-Map-Bundle-Directory","type":"heading"},{"inlineContent":[{"type":"text","text":"In Xcode, create a folder reference named “MapLayr” in the top-level directory of your application. This folder will contain maps for offline use and is intended to be copied into your app’s bundle as-is."}],"type":"paragraph"},{"level":2,"text":"Using the Download Script","anchor":"Using-the-Download-Script","type":"heading"},{"inlineContent":[{"text":"The ","type":"text"},{"code":"download-map","type":"codeVoice"},{"text":" script included with MapLayr helps you manage map bundles. The script accepts these parameters:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"code":"-m","type":"codeVoice"},{"type":"text","text":" or "},{"code":"--map","type":"codeVoice"},{"type":"text","text":": The ID of the map to download"}]}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"-d"},{"type":"text","text":" or "},{"type":"codeVoice","code":"--dir"},{"type":"text","text":": The target directory for the map bundle (typically your Maps folder)"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"-n","type":"codeVoice"},{"type":"text","text":" or "},{"code":"--name","type":"codeVoice"},{"type":"text","text":": (Optional) A custom name for the map bundle"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"--skip-if-exists","type":"codeVoice"},{"text":": Skip download if the map already exists","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"--skip-if-debug","type":"codeVoice"},{"type":"text","text":": Skip download if "},{"code":"CONFIGURATION","type":"codeVoice"},{"type":"text","text":" is set to "},{"code":"Debug","type":"codeVoice"}]}]}],"type":"unorderedList"},{"level":2,"text":"Automating Map Updates","anchor":"Automating-Map-Updates","type":"heading"},{"inlineContent":[{"text":"To keep your bundled map up to date, add a build phase in Xcode:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Add a new ","type":"text"},{"type":"emphasis","inlineContent":[{"type":"text","text":"Run Script"}]},{"text":" phase in your target’s ","type":"text"},{"type":"emphasis","inlineContent":[{"text":"Build Phases","type":"text"}]}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Position it before the "},{"type":"emphasis","inlineContent":[{"type":"text","text":"Copy Bundle Resources"}]},{"type":"text","text":" phase"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Name it something descriptive like “Update Map”"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Uncheck “based on dependency analysis”"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add the script, replacing the map ID and directory path as needed:"}]}]}],"type":"orderedList"},{"type":"codeListing","code":["\"${BUILD_DIR%Build\/*}SourcePackages\/checkouts\/maps-ios\/download-map\" -m \"YOUR-MAP-ID\" -d \"$PROJECT_DIR\/My App\/MapLayr\" --skip-if-debug"],"syntax":"shell"},{"style":"note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"For better reliability, consider copying the "},{"type":"codeVoice","code":"download-map"},{"type":"text","text":" script into your project instead of referencing it from the package directory."}]}],"type":"aside","name":"Note"},{"level":2,"text":"Best Practices","anchor":"Best-Practices","type":"heading"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Add your Maps folder to "},{"type":"codeVoice","code":".gitignore"},{"type":"text","text":" to avoid committing map bundles to source control"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Use ","type":"text"},{"code":"--skip-if-debug","type":"codeVoice"},{"text":" to speed up debug builds","type":"text"}]}]}],"type":"unorderedList"}]}],"variants":[{"paths":["\/documentation\/maplayr\/bundle-map"],"traits":[{"interfaceLanguage":"swift"}]}],"sections":[],"seeAlsoSections":[{"anchor":"Getting-Started","title":"Getting Started","identifiers":["doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/API-Key","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Display-Map","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Annotations","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/User-Location","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Routing","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Camera-Positioning"],"generated":true}],"schemaVersion":{"major":0,"patch":0,"minor":3},"metadata":{"modules":[{"name":"MapLayr"}],"role":"article","title":"Bundle Your Map","roleHeading":"Article"},"hierarchy":{"paths":[["doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr"]]},"identifier":{"url":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Bundle-Map","interfaceLanguage":"swift"},"references":{"doc://com.applayr.MapLayr/documentation/MapLayr/MapView":{"fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"MapView"}],"type":"topic","role":"symbol","abstract":[{"type":"text","text":"A view which displays interactive map content."}],"title":"MapView","url":"\/documentation\/maplayr\/mapview","navigatorTitle":[{"kind":"identifier","text":"MapView"}],"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapView","kind":"symbol"},"doc://com.applayr.MapLayr/documentation/MapLayr/Display-Map":{"abstract":[{"text":"Create a ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Map"},{"text":" and assign it to a ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapView"},{"text":".","type":"text"}],"kind":"article","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Display-Map","role":"article","url":"\/documentation\/maplayr\/display-map","type":"topic","title":"Displaying a Map"},"doc://com.applayr.MapLayr/documentation/MapLayr/User-Location":{"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/User-Location","type":"topic","title":"Showing the User’s Location","role":"article","url":"\/documentation\/maplayr\/user-location","kind":"article","abstract":[{"text":"Display and track the user’s current location on your map.","type":"text"}]},"doc://com.applayr.MapLayr/documentation/MapLayr/Camera-Positioning":{"role":"article","type":"topic","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Camera-Positioning","kind":"article","title":"Camera Positioning","abstract":[{"text":"Control the camera position and orientation programmatically or through automatic providers.","type":"text"}],"url":"\/documentation\/maplayr\/camera-positioning"},"doc://com.applayr.MapLayr/documentation/MapLayr/Map/managed(id:)-5kxdb":{"url":"\/documentation\/maplayr\/map\/managed(id:)-5kxdb","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Map\/managed(id:)-5kxdb","role":"symbol","title":"managed(id:)","abstract":[{"text":"Returns a managed map with the given map ID.","type":"text"}],"fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"managed","kind":"identifier"},{"text":"(","kind":"text"},{"text":"id","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"String","kind":"typeIdentifier","preciseIdentifier":"s:SS"},{"text":") ","kind":"text"},{"text":"throws","kind":"keyword"},{"text":" -> ","kind":"text"},{"text":"Map","kind":"typeIdentifier","preciseIdentifier":"s:15MapLayrInternal0A0C"}],"kind":"symbol","type":"topic"},"doc://com.applayr.MapLayr/documentation/MapLayr/API-Key":{"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/API-Key","type":"topic","title":"API Key","role":"article","url":"\/documentation\/maplayr\/api-key","kind":"article","abstract":[{"text":"Obtain an API key and configure your app to use it.","type":"text"}]},"doc://com.applayr.MapLayr/documentation/MapLayr/Map":{"kind":"symbol","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Map"}],"navigatorTitle":[{"kind":"identifier","text":"Map"}],"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Map","role":"symbol","abstract":[{"text":"An updatable map.","type":"text"}],"url":"\/documentation\/maplayr\/map","title":"Map","type":"topic"},"doc://com.applayr.MapLayr/documentation/MapLayr/Routing":{"kind":"article","url":"\/documentation\/maplayr\/routing","role":"article","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Routing","abstract":[{"text":"Calculate shortest paths between locations and display them on your map with automatic updates.","type":"text"}],"type":"topic","title":"Computing and Displaying Routes"},"doc://com.applayr.MapLayr/documentation/MapLayr/Annotations":{"kind":"article","type":"topic","abstract":[{"text":"Display custom markers and points of interest on your map.","type":"text"}],"title":"Adding Annotations to Your Map","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Annotations","role":"article","url":"\/documentation\/maplayr\/annotations"},"doc://com.applayr.MapLayr/documentation/MapLayr":{"kind":"symbol","url":"\/documentation\/maplayr","type":"topic","title":"MapLayr","role":"collection","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr","abstract":[{"type":"text","text":"High performance map view for venue-specific maps."}]}}}