{"hierarchy":{"paths":[["doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr"]]},"sections":[],"identifier":{"url":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Camera-Positioning","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Control the camera position and orientation programmatically or through automatic providers."}],"seeAlsoSections":[{"title":"Related Documentation","identifiers":["doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapView","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapViewDelegate","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/UserLocationMarker","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/CameraPositionProvider","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/CameraOrientationProvider"],"anchor":"Related-Documentation"},{"title":"Getting Started","generated":true,"identifiers":["doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/API-Key","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Display-Map","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Bundle-Map","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Annotations","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/User-Location","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Routing"],"anchor":"Getting-Started"}],"primaryContentSections":[{"kind":"content","content":[{"level":2,"text":"Overview","anchor":"Overview","type":"heading"},{"inlineContent":[{"text":"MapLayr provides several mechanisms to programatically control the camera on your map. You can manually set the camera position using the ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapView\/moveCamera(coordinates:heading:span:insets:tilt:animated:)-942rx"},{"text":" method, or you can use automatic providers that continuously update the camera position and orientation based on external sources such as the user’s location.","type":"text"}],"type":"paragraph"},{"level":2,"text":"Manual Camera Control","anchor":"Manual-Camera-Control","type":"heading"},{"inlineContent":[{"type":"text","text":"Use the "},{"isActive":true,"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapView\/moveCamera(coordinates:heading:span:insets:tilt:animated:)-942rx","type":"reference"},{"type":"text","text":" method to programmatically move the camera to a specific position:"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["\/\/ Move the camera to show the specified coordinates","let coordinates = Coordinates(latitude: 52.9875, longitude: -1.9404)","mapView.moveCamera(coordinates: coordinates, animated: true)","","\/\/ Update the camera's heading (which way it points) and span (how much of the map it shows)","mapView.moveCamera(","\theading: 45.0, \/\/ degrees","\tspan: 100.0,   \/\/ metres","\tanimated: true",")","","\/\/ Tilt the camera","mapView.moveCamera(","\ttilt: Float.pi \/ 4, \/\/ radians","\tanimated: true",")"]},{"inlineContent":[{"type":"text","text":"The method accepts the following optional parameters:"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"code":"coordinates","type":"codeVoice"},{"type":"text","text":": The centre position where the camera should be positioned"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"heading"},{"text":": The direction the camera should face (in degrees)","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"span"},{"text":": The minimum diameter that should be visible around the camera","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"insets"},{"text":": Additional margin around the view to account for UI elements (positive numbers zoom out the camera further)","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"code":"tilt","type":"codeVoice"},{"text":": The angle of camera tilt (in radians)","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"animated"},{"type":"text","text":": Whether the camera movement should be animated ("},{"type":"codeVoice","code":"false"},{"type":"text","text":" by default)"}]}]}]},{"level":2,"text":"Position and Orientation Providers","anchor":"Position-and-Orientation-Providers","type":"heading"},{"inlineContent":[{"type":"text","text":"Rather than triggering camera updates manually, you can instead assign a "},{"type":"reference","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/CameraPositionProvider","isActive":true},{"type":"text","text":" to the "},{"type":"reference","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapView\/positionProvider","isActive":true},{"type":"text","text":" property to have the camera automatically follow a position source:"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["\/\/ Use a user location marker as a position provider","let userLocationMarker = UserLocationMarker()","","\/\/ Adding it to the map view is optional","mapView.addUserLocationMarker(userLocationMarker)","","\/\/ Set it as the position provider to follow the user","mapView.positionProvider = userLocationMarker"]},{"inlineContent":[{"type":"text","text":"The position provider will continuously update the camera position based on the provider’s current location, which includes smoothly animated changes."}],"type":"paragraph"},{"inlineContent":[{"text":"Similarly, you can assign a ","type":"text"},{"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/CameraOrientationProvider","type":"reference","isActive":true},{"text":" to the ","type":"text"},{"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapView\/orientationProvider","type":"reference","isActive":true},{"text":" property to have the camera automatically orient itself:","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["\/\/ Use a user location marker as an orientation provider","mapView.orientationProvider = userLocationMarker"]},{"inlineContent":[{"type":"text","text":"When both position and orientation providers are set to the same "},{"type":"reference","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/UserLocationMarker","isActive":true},{"type":"text","text":", the camera will follow the user’s location and automatically rotate to match their heading."}],"type":"paragraph"},{"level":3,"text":"User Location Marker Integration","anchor":"User-Location-Marker-Integration","type":"heading"},{"inlineContent":[{"type":"text","text":"The "},{"type":"reference","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/UserLocationMarker","isActive":true},{"type":"text","text":" class automatically conforms to both "},{"type":"reference","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/CameraPositionProvider","isActive":true},{"type":"text","text":" and "},{"type":"reference","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/CameraOrientationProvider","isActive":true},{"type":"text","text":" protocols, making it an ideal choice for camera tracking:"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["let userLocationMarker = UserLocationMarker()","mapView.addUserLocationMarker(userLocationMarker)","","\/\/ Follow both position and orientation","mapView.positionProvider = userLocationMarker","mapView.orientationProvider = userLocationMarker"]},{"level":3,"text":"Automatic Disengagement","anchor":"Automatic-Disengagement","type":"heading"},{"inlineContent":[{"type":"text","text":"When a user interacts with the map in a way which is contrary to the provider, it is automatically disengaged to allow manual control."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"You can monitor changes to the camera providers through the "},{"type":"reference","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapViewDelegate","isActive":true},{"type":"text","text":":"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["extension ViewController: MapViewDelegate {","\tfunc mapViewDidChangeCameraPositionProvider(","\t\t_ mapView: MapView,","\t\tpositionProvider: (any CameraPositionProvider)?,","\t\toldProvider: (any CameraPositionProvider)?","\t) {","\t\tif positionProvider == nil {","\t\t\t\/\/ The user has manually moved the camera","\t\t}","\t}","\t","\tfunc mapViewDidChangeCameraOrientationProvider(","\t\t_ mapView: MapView,","\t\torientationProvider: (any CameraOrientationProvider)?,","\t\toldProvider: (any CameraOrientationProvider)?","\t) {","\t\tif orientationProvider == nil {","\t\t\t\/\/ The user has manually rotated the camera","\t\t}","\t}","}"]},{"inlineContent":[{"type":"text","text":"These delegate methods are called whenever the camera providers change, whether due to user interaction or programmatic updates. This allows you to update your app’s UI to reflect the current camera control state."}],"type":"paragraph"}]}],"metadata":{"modules":[{"name":"MapLayr"}],"role":"article","title":"Camera Positioning","roleHeading":"Article"},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/maplayr\/camera-positioning"]}],"schemaVersion":{"major":0,"patch":0,"minor":3},"kind":"article","references":{"doc://com.applayr.MapLayr/documentation/MapLayr/API-Key":{"abstract":[{"type":"text","text":"Obtain an API key and configure your app to use it."}],"url":"\/documentation\/maplayr\/api-key","type":"topic","role":"article","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/API-Key","title":"API Key","kind":"article"},"doc://com.applayr.MapLayr/documentation/MapLayr/UserLocationMarker":{"type":"topic","role":"symbol","abstract":[{"type":"text","text":"A marker that can represent the user’s location and orientation."}],"kind":"symbol","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"UserLocationMarker"}],"navigatorTitle":[{"kind":"identifier","text":"UserLocationMarker"}],"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/UserLocationMarker","title":"UserLocationMarker","url":"\/documentation\/maplayr\/userlocationmarker"},"doc://com.applayr.MapLayr/documentation/MapLayr/CameraPositionProvider":{"fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"CameraPositionProvider","kind":"identifier"}],"navigatorTitle":[{"text":"CameraPositionProvider","kind":"identifier"}],"title":"CameraPositionProvider","type":"topic","url":"\/documentation\/maplayr\/camerapositionprovider","kind":"symbol","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/CameraPositionProvider","role":"symbol","abstract":[{"type":"text","text":"Protocol for types which can provide a position for the camera. When assigned to a "},{"type":"codeVoice","code":"MapView"},{"text":", the camera will following the position specified by the provider.","type":"text"}]},"doc://com.applayr.MapLayr/documentation/MapLayr/Map":{"kind":"symbol","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Map","url":"\/documentation\/maplayr\/map","type":"topic","abstract":[{"text":"An updatable map.","type":"text"}],"title":"Map","navigatorTitle":[{"text":"Map","kind":"identifier"}],"fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Map","kind":"identifier"}],"role":"symbol"},"doc://com.applayr.MapLayr/documentation/MapLayr/MapView":{"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapView","navigatorTitle":[{"kind":"identifier","text":"MapView"}],"kind":"symbol","abstract":[{"text":"A view which displays interactive map content.","type":"text"}],"url":"\/documentation\/maplayr\/mapview","role":"symbol","title":"MapView","type":"topic","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"MapView"}]},"doc://com.applayr.MapLayr/documentation/MapLayr/Display-Map":{"title":"Displaying a Map","abstract":[{"type":"text","text":"Create a "},{"type":"reference","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Map","isActive":true},{"type":"text","text":" and assign it to a "},{"type":"reference","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapView","isActive":true},{"type":"text","text":"."}],"url":"\/documentation\/maplayr\/display-map","role":"article","type":"topic","kind":"article","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Display-Map"},"doc://com.applayr.MapLayr/documentation/MapLayr/CameraOrientationProvider":{"title":"CameraOrientationProvider","type":"topic","kind":"symbol","fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"CameraOrientationProvider","kind":"identifier"}],"navigatorTitle":[{"text":"CameraOrientationProvider","kind":"identifier"}],"abstract":[{"text":"Protocol for types which can provide an orientation for the camera. When assigned to a ","type":"text"},{"type":"codeVoice","code":"MapView"},{"text":", the camera’s orientation will follow the orientation specified by the provider.","type":"text"}],"url":"\/documentation\/maplayr\/cameraorientationprovider","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/CameraOrientationProvider","role":"symbol"},"doc://com.applayr.MapLayr/documentation/MapLayr/MapViewDelegate":{"fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"MapViewDelegate"}],"kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"MapViewDelegate"}],"abstract":[{"type":"text","text":"A protocol that defines methods for receiving map view updates and events."}],"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapViewDelegate","title":"MapViewDelegate","url":"\/documentation\/maplayr\/mapviewdelegate","role":"symbol"},"doc://com.applayr.MapLayr/documentation/MapLayr":{"role":"collection","kind":"symbol","url":"\/documentation\/maplayr","type":"topic","abstract":[{"type":"text","text":"High performance map view for venue-specific maps."}],"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr","title":"MapLayr"},"doc://com.applayr.MapLayr/documentation/MapLayr/MapView/positionProvider":{"fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"positionProvider","kind":"identifier"},{"text":": (any ","kind":"text"},{"preciseIdentifier":"s:15MapLayrInternal22CameraPositionProviderP","text":"CameraPositionProvider","kind":"typeIdentifier"},{"text":")?","kind":"text"}],"url":"\/documentation\/maplayr\/mapview\/positionprovider","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapView\/positionProvider","role":"symbol","type":"topic","abstract":[{"type":"text","text":"A position provider which can optionally provide the camera’s position."}],"title":"positionProvider","kind":"symbol"},"doc://com.applayr.MapLayr/documentation/MapLayr/User-Location":{"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/User-Location","abstract":[{"type":"text","text":"Display and track the user’s current location on your map."}],"type":"topic","title":"Showing the User’s Location","url":"\/documentation\/maplayr\/user-location","role":"article","kind":"article"},"doc://com.applayr.MapLayr/documentation/MapLayr/MapView/moveCamera(coordinates:heading:span:insets:tilt:animated:)-942rx":{"type":"topic","role":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"moveCamera"},{"kind":"text","text":"("},{"kind":"externalParam","text":"coordinates"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:11MapGeometry11CoordinatesV","text":"Coordinates"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"heading"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"c:@T@CLLocationDirection","text":"CLLocationDirection"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"span"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"c:@T@CLLocationDistance","text":"CLLocationDistance"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"insets"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:14CoreFoundation7CGFloatV","text":"CGFloat"},{"kind":"text","text":", "},{"kind":"externalParam","text":"tilt"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:Sf","text":"Float"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"animated"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:Sb","text":"Bool"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Sets one or more of the position, heading and elevation of the camera, optionally with an animation."}],"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapView\/moveCamera(coordinates:heading:span:insets:tilt:animated:)-942rx","kind":"symbol","title":"moveCamera(coordinates:heading:span:insets:tilt:animated:)","url":"\/documentation\/maplayr\/mapview\/movecamera(coordinates:heading:span:insets:tilt:animated:)-942rx"},"doc://com.applayr.MapLayr/documentation/MapLayr/MapView/orientationProvider":{"kind":"symbol","title":"orientationProvider","type":"topic","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapView\/orientationProvider","abstract":[{"type":"text","text":"An orientation provider which can optionally provide the camera’s orientation."}],"role":"symbol","url":"\/documentation\/maplayr\/mapview\/orientationprovider","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"orientationProvider"},{"kind":"text","text":": (any "},{"kind":"typeIdentifier","preciseIdentifier":"s:15MapLayrInternal25CameraOrientationProviderP","text":"CameraOrientationProvider"},{"kind":"text","text":")?"}]},"doc://com.applayr.MapLayr/documentation/MapLayr/Routing":{"url":"\/documentation\/maplayr\/routing","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Routing","kind":"article","abstract":[{"type":"text","text":"Calculate shortest paths between locations and display them on your map."}],"role":"article","title":"Computing and Displaying Routes","type":"topic"},"doc://com.applayr.MapLayr/documentation/MapLayr/Annotations":{"title":"Adding Annotations to Your Map","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Annotations","url":"\/documentation\/maplayr\/annotations","role":"article","type":"topic","kind":"article","abstract":[{"type":"text","text":"Display custom markers and points of interest on your map."}]},"doc://com.applayr.MapLayr/documentation/MapLayr/Bundle-Map":{"abstract":[{"type":"text","text":"Have your map available immediately when your app launches for the first time."}],"url":"\/documentation\/maplayr\/bundle-map","type":"topic","role":"article","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Bundle-Map","title":"Bundle Your Map","kind":"article"}}}