{"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Camera-Positioning"},"abstract":[{"type":"text","text":"Control the camera position and orientation programmatically or through automatic providers."}],"sections":[],"hierarchy":{"paths":[["doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr"]]},"primaryContentSections":[{"kind":"content","content":[{"text":"Overview","level":2,"anchor":"Overview","type":"heading"},{"inlineContent":[{"text":"MapLayr provides several mechanisms to programatically control the camera on your map. You can manually set the camera position using the ","type":"text"},{"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapView\/moveCamera(coordinates:heading:span:insets:tilt:animated:)-942rx","type":"reference","isActive":true},{"text":" method, or you can use automatic providers that continuously update the camera position and orientation based on external sources such as the user’s location.","type":"text"}],"type":"paragraph"},{"text":"Manual Camera Control","level":2,"anchor":"Manual-Camera-Control","type":"heading"},{"inlineContent":[{"type":"text","text":"Use the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapView\/moveCamera(coordinates:heading:span:insets:tilt:animated:)-942rx"},{"type":"text","text":" method to programmatically move the camera to a specific position:"}],"type":"paragraph"},{"code":["\/\/ Move the camera to show the specified coordinates","let coordinates = Coordinates(latitude: 52.9875, longitude: -1.9404)","mapView.moveCamera(coordinates: coordinates, animated: true)","","\/\/ Update the camera's heading (which way it points) and span (how much of the map it shows)","mapView.moveCamera(","\theading: 45.0, \/\/ degrees","\tspan: 100.0,   \/\/ metres","\tanimated: true",")","","\/\/ Tilt the camera","mapView.moveCamera(","\ttilt: Float.pi \/ 4, \/\/ radians","\tanimated: true",")"],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"type":"text","text":"The method accepts the following optional parameters:"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"coordinates"},{"type":"text","text":": The centre position where the camera should be positioned"}]}]},{"content":[{"inlineContent":[{"code":"heading","type":"codeVoice"},{"text":": The direction the camera should face (in degrees)","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"span","type":"codeVoice"},{"text":": The minimum diameter that should be visible around the camera","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"insets"},{"text":": Additional margin around the view to account for UI elements (positive numbers zoom out the camera further)","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"tilt"},{"text":": The angle of camera tilt (in radians)","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"animated","type":"codeVoice"},{"type":"text","text":": Whether the camera movement should be animated ("},{"code":"false","type":"codeVoice"},{"type":"text","text":" by default)"}]}]}],"type":"unorderedList"},{"type":"heading","text":"Position and Orientation Providers","level":2,"anchor":"Position-and-Orientation-Providers"},{"type":"paragraph","inlineContent":[{"text":"Rather than triggering camera updates manually, you can instead assign a ","type":"text"},{"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/CameraPositionProvider","type":"reference","isActive":true},{"text":" to the ","type":"text"},{"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapView\/positionProvider","type":"reference","isActive":true},{"text":" property to have the camera automatically follow a position source:","type":"text"}]},{"type":"codeListing","code":["\/\/ Use a user location marker's position provider","let userLocationMarker = UserLocationMarker()","mapView.addUserLocationMarker(userLocationMarker)","","\/\/ Set its position provider to follow the user","mapView.positionProvider = userLocationMarker.cameraPositionProvider"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"The position provider will continuously update the camera position based on the provider’s current location, which includes smoothly animated changes.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Similarly, you can assign a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/CameraOrientationProvider"},{"type":"text","text":" to the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapView\/orientationProvider"},{"type":"text","text":" property to have the camera automatically orient itself:"}]},{"type":"codeListing","code":["\/\/ Use a user location marker's orientation provider","mapView.orientationProvider = userLocationMarker.cameraOrientationProvider"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/UserLocationMarker","type":"reference","isActive":true},{"type":"text","text":" class provides both "},{"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/UserLocationMarker\/cameraPositionProvider","type":"reference","isActive":true},{"type":"text","text":" and "},{"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/UserLocationMarker\/cameraOrientationProvider","type":"reference","isActive":true},{"type":"text","text":" properties, making it an ideal source for camera tracking."}]},{"type":"heading","text":"Automatic Disengagement","level":3,"anchor":"Automatic-Disengagement"},{"type":"paragraph","inlineContent":[{"text":"When a user interacts with the map in a way which is contrary to the current camera providers, it is automatically disengaged to allow manual control.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"You can monitor changes to the camera providers through the ","type":"text"},{"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapViewDelegate","isActive":true,"type":"reference"},{"text":":","type":"text"}]},{"type":"codeListing","code":["extension ViewController: MapViewDelegate {","\tfunc mapViewDidChangeCameraPositionProvider(","\t\t_ mapView: MapView,","\t\tpositionProvider: (any CameraPositionProvider)?,","\t\toldProvider: (any CameraPositionProvider)?","\t) {","\t\tif positionProvider == nil {","\t\t\t\/\/ The user has manually moved the camera","\t\t}","\t}","\t","\tfunc mapViewDidChangeCameraOrientationProvider(","\t\t_ mapView: MapView,","\t\torientationProvider: (any CameraOrientationProvider)?,","\t\toldProvider: (any CameraOrientationProvider)?","\t) {","\t\tif orientationProvider == nil {","\t\t\t\/\/ The user has manually rotated the camera","\t\t}","\t}","}"],"syntax":"swift"},{"type":"paragraph","inlineContent":[{"text":"These delegate methods are called whenever the camera providers change, whether due to user interaction or programmatic updates. This allows you to update your app’s UI to reflect the current camera control state.","type":"text"}]}]}],"seeAlsoSections":[{"title":"Related Documentation","identifiers":["doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapView","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapViewDelegate","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/UserLocationMarker","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/CameraPositionProvider","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/CameraOrientationProvider"],"anchor":"Related-Documentation"},{"title":"Getting Started","identifiers":["doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/API-Key","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Display-Map","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Bundle-Map","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Annotations","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/User-Location","doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Routing"],"generated":true,"anchor":"Getting-Started"}],"metadata":{"roleHeading":"Article","title":"Camera Positioning","role":"article","modules":[{"name":"MapLayr"}]},"kind":"article","variants":[{"paths":["\/documentation\/maplayr\/camera-positioning"],"traits":[{"interfaceLanguage":"swift"}]}],"schemaVersion":{"minor":3,"major":0,"patch":0},"references":{"doc://com.applayr.MapLayr/documentation/MapLayr/MapView/positionProvider":{"fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"positionProvider","kind":"identifier"},{"text":": (any ","kind":"text"},{"text":"CameraPositionProvider","preciseIdentifier":"s:15MapLayrInternal22CameraPositionProviderP","kind":"typeIdentifier"},{"text":")?","kind":"text"}],"title":"positionProvider","kind":"symbol","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapView\/positionProvider","type":"topic","abstract":[{"type":"text","text":"A position provider which can optionally provide the camera’s position."}],"url":"\/documentation\/maplayr\/mapview\/positionprovider","role":"symbol"},"doc://com.applayr.MapLayr/documentation/MapLayr/UserLocationMarker":{"title":"UserLocationMarker","abstract":[{"type":"text","text":"A marker that can represent the user’s location and orientation."}],"role":"symbol","navigatorTitle":[{"text":"UserLocationMarker","kind":"identifier"}],"fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"UserLocationMarker","kind":"identifier"}],"url":"\/documentation\/maplayr\/userlocationmarker","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/UserLocationMarker","kind":"symbol","type":"topic"},"doc://com.applayr.MapLayr/documentation/MapLayr":{"kind":"symbol","url":"\/documentation\/maplayr","type":"topic","title":"MapLayr","role":"collection","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr","abstract":[{"type":"text","text":"High performance map view for venue-specific maps."}]},"doc://com.applayr.MapLayr/documentation/MapLayr/CameraPositionProvider":{"role":"symbol","title":"CameraPositionProvider","navigatorTitle":[{"text":"CameraPositionProvider","kind":"identifier"}],"type":"topic","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/CameraPositionProvider","kind":"symbol","fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"CameraPositionProvider","kind":"identifier"}],"abstract":[{"type":"text","text":"Protocol for types which can provide a position for the camera. When assigned to a "},{"type":"codeVoice","code":"MapView"},{"type":"text","text":", the camera will following the position specified by the provider."}],"url":"\/documentation\/maplayr\/camerapositionprovider"},"doc://com.applayr.MapLayr/documentation/MapLayr/MapView/moveCamera(coordinates:heading:span:insets:tilt:animated:)-942rx":{"fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"moveCamera","kind":"identifier"},{"text":"(","kind":"text"},{"text":"coordinates","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"Coordinates","preciseIdentifier":"s:11MapGeometry11CoordinatesV","kind":"typeIdentifier"},{"text":"?, ","kind":"text"},{"text":"heading","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"CLLocationDirection","preciseIdentifier":"c:@T@CLLocationDirection","kind":"typeIdentifier"},{"text":"?, ","kind":"text"},{"text":"span","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"CLLocationDistance","preciseIdentifier":"c:@T@CLLocationDistance","kind":"typeIdentifier"},{"text":"?, ","kind":"text"},{"text":"insets","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"CGFloat","preciseIdentifier":"s:14CoreFoundation7CGFloatV","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"tilt","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"Float","preciseIdentifier":"s:Sf","kind":"typeIdentifier"},{"text":"?, ","kind":"text"},{"text":"animated","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"Bool","preciseIdentifier":"s:Sb","kind":"typeIdentifier"},{"text":")","kind":"text"}],"title":"moveCamera(coordinates:heading:span:insets:tilt:animated:)","kind":"symbol","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapView\/moveCamera(coordinates:heading:span:insets:tilt:animated:)-942rx","type":"topic","abstract":[{"type":"text","text":"Sets one or more of the position, heading and elevation of the camera, optionally with an animation."}],"url":"\/documentation\/maplayr\/mapview\/movecamera(coordinates:heading:span:insets:tilt:animated:)-942rx","role":"symbol"},"doc://com.applayr.MapLayr/documentation/MapLayr/MapView":{"fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"MapView"}],"type":"topic","role":"symbol","abstract":[{"type":"text","text":"A view which displays interactive map content."}],"title":"MapView","url":"\/documentation\/maplayr\/mapview","navigatorTitle":[{"kind":"identifier","text":"MapView"}],"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapView","kind":"symbol"},"doc://com.applayr.MapLayr/documentation/MapLayr/Map":{"kind":"symbol","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Map"}],"navigatorTitle":[{"kind":"identifier","text":"Map"}],"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Map","role":"symbol","abstract":[{"text":"An updatable map.","type":"text"}],"url":"\/documentation\/maplayr\/map","title":"Map","type":"topic"},"doc://com.applayr.MapLayr/documentation/MapLayr/UserLocationMarker/cameraOrientationProvider":{"title":"cameraOrientationProvider","kind":"symbol","role":"symbol","url":"\/documentation\/maplayr\/userlocationmarker\/cameraorientationprovider","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"cameraOrientationProvider"},{"kind":"text","text":": "},{"kind":"keyword","text":"some"},{"kind":"text","text":" "},{"kind":"typeIdentifier","text":"CameraOrientationProvider","preciseIdentifier":"s:15MapLayrInternal25CameraOrientationProviderP"}],"type":"topic","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/UserLocationMarker\/cameraOrientationProvider","abstract":[{"text":"A camera orientation provider which reflects the camera’s orientation.","type":"text"}]},"doc://com.applayr.MapLayr/documentation/MapLayr/MapViewDelegate":{"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapViewDelegate","type":"topic","abstract":[{"text":"A protocol that defines methods for receiving map view updates and events.","type":"text"}],"role":"symbol","title":"MapViewDelegate","fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"MapViewDelegate","kind":"identifier"}],"navigatorTitle":[{"text":"MapViewDelegate","kind":"identifier"}],"url":"\/documentation\/maplayr\/mapviewdelegate","kind":"symbol"},"doc://com.applayr.MapLayr/documentation/MapLayr/Bundle-Map":{"type":"topic","role":"article","title":"Bundle Your Map","kind":"article","url":"\/documentation\/maplayr\/bundle-map","abstract":[{"type":"text","text":"Have your map available immediately when your app launches for the first time."}],"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Bundle-Map"},"doc://com.applayr.MapLayr/documentation/MapLayr/Display-Map":{"abstract":[{"text":"Create a ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Map"},{"text":" and assign it to a ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapView"},{"text":".","type":"text"}],"kind":"article","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Display-Map","role":"article","url":"\/documentation\/maplayr\/display-map","type":"topic","title":"Displaying a Map"},"doc://com.applayr.MapLayr/documentation/MapLayr/MapView/orientationProvider":{"abstract":[{"type":"text","text":"An orientation provider which can optionally provide the camera’s orientation."}],"kind":"symbol","title":"orientationProvider","role":"symbol","type":"topic","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"orientationProvider","kind":"identifier"},{"text":": (any ","kind":"text"},{"text":"CameraOrientationProvider","preciseIdentifier":"s:15MapLayrInternal25CameraOrientationProviderP","kind":"typeIdentifier"},{"text":")?","kind":"text"}],"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/MapView\/orientationProvider","url":"\/documentation\/maplayr\/mapview\/orientationprovider"},"doc://com.applayr.MapLayr/documentation/MapLayr/CameraOrientationProvider":{"fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"CameraOrientationProvider","kind":"identifier"}],"type":"topic","url":"\/documentation\/maplayr\/cameraorientationprovider","title":"CameraOrientationProvider","abstract":[{"type":"text","text":"Protocol for types which can provide an orientation for the camera. When assigned to a "},{"type":"codeVoice","code":"MapView"},{"type":"text","text":", the camera’s orientation will follow the orientation specified by the provider."}],"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/CameraOrientationProvider","kind":"symbol","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"CameraOrientationProvider"}]},"doc://com.applayr.MapLayr/documentation/MapLayr/UserLocationMarker/cameraPositionProvider":{"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/UserLocationMarker\/cameraPositionProvider","role":"symbol","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"cameraPositionProvider"},{"kind":"text","text":": "},{"kind":"keyword","text":"some"},{"kind":"text","text":" "},{"kind":"typeIdentifier","text":"CameraPositionProvider","preciseIdentifier":"s:15MapLayrInternal22CameraPositionProviderP"}],"url":"\/documentation\/maplayr\/userlocationmarker\/camerapositionprovider","title":"cameraPositionProvider","kind":"symbol","abstract":[{"type":"text","text":"A camera position provider which reflects the camera’s position."}],"type":"topic"},"doc://com.applayr.MapLayr/documentation/MapLayr/Annotations":{"kind":"article","type":"topic","abstract":[{"text":"Display custom markers and points of interest on your map.","type":"text"}],"title":"Adding Annotations to Your Map","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Annotations","role":"article","url":"\/documentation\/maplayr\/annotations"},"doc://com.applayr.MapLayr/documentation/MapLayr/Routing":{"kind":"article","url":"\/documentation\/maplayr\/routing","role":"article","identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/Routing","abstract":[{"text":"Calculate shortest paths between locations and display them on your map with automatic updates.","type":"text"}],"type":"topic","title":"Computing and Displaying Routes"},"doc://com.applayr.MapLayr/documentation/MapLayr/User-Location":{"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/User-Location","type":"topic","title":"Showing the User’s Location","role":"article","url":"\/documentation\/maplayr\/user-location","kind":"article","abstract":[{"text":"Display and track the user’s current location on your map.","type":"text"}]},"doc://com.applayr.MapLayr/documentation/MapLayr/API-Key":{"identifier":"doc:\/\/com.applayr.MapLayr\/documentation\/MapLayr\/API-Key","type":"topic","title":"API Key","role":"article","url":"\/documentation\/maplayr\/api-key","kind":"article","abstract":[{"text":"Obtain an API key and configure your app to use it.","type":"text"}]}}}